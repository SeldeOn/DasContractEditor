{"version":3,"sources":["../../../src/features/palette/PaletteProvider.js"],"names":["assign","PaletteProvider","palette","create","elementFactory","handTool","lassoTool","translate","_palette","_create","_elementFactory","_handTool","_lassoTool","_translate","registerProvider","$inject","prototype","getPaletteEntries","element","actions","createAction","type","group","className","title","options","createListener","event","shape","createShape","start","action","dragstart","click","activateHand","activateSelection","separator"],"mappings":"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","sourcesContent":["import {\n  assign\n} from 'min-dash';\n\n\n/**\n * A palette provider for DMN elements.\n */\nexport default function PaletteProvider(\n    palette, create, elementFactory,\n    handTool, lassoTool, translate) {\n\n  this._palette = palette;\n  this._create = create;\n  this._elementFactory = elementFactory;\n  this._handTool = handTool;\n  this._lassoTool = lassoTool;\n  this._translate = translate;\n\n  palette.registerProvider(this);\n}\n\nPaletteProvider.$inject = [\n  'palette',\n  'create',\n  'elementFactory',\n  'handTool',\n  'lassoTool',\n  'translate'\n];\n\n\nPaletteProvider.prototype.getPaletteEntries = function(element) {\n\n  var actions = {},\n      create = this._create,\n      elementFactory = this._elementFactory,\n      handTool = this._handTool,\n      lassoTool = this._lassoTool,\n      translate = this._translate;\n\n  function createAction(type, group, className, title, options) {\n\n    function createListener(event) {\n      var shape = elementFactory.createShape(assign({ type: type }, options));\n\n      create.start(event, shape);\n    }\n\n    return {\n      group: group,\n      className: className,\n      title: title,\n      action: {\n        dragstart: createListener,\n        click: createListener\n      }\n    };\n  }\n\n  assign(actions, {\n    'hand-tool': {\n      group: 'tools',\n      className: 'dmn-icon-hand-tool',\n      title: translate('Activate the hand tool'),\n      action: {\n        click: function(event) {\n          handTool.activateHand(event);\n        }\n      }\n    },\n    'lasso-tool': {\n      group: 'tools',\n      className: 'dmn-icon-lasso-tool',\n      title: translate('Activate the lasso tool'),\n      action: {\n        click: function(event) {\n          lassoTool.activateSelection(event);\n        }\n      }\n    },\n    'tool-separator': {\n      group: 'tools',\n      separator: true\n    },\n    'create.decision': createAction(\n      'dmn:Decision', 'drd', 'dmn-icon-decision', translate('Create Decision')\n    ),\n    'create.input-data': createAction(\n      'dmn:InputData', 'drd', 'dmn-icon-input-data', translate('Create Input Data')\n    ),\n    'create.knowledge-source': createAction(\n      'dmn:KnowledgeSource', 'drd', 'dmn-icon-knowledge-source',\n      translate('Create Knowledge Source')\n    ),\n    'create.business-knowledge-model': createAction(\n      'dmn:BusinessKnowledgeModel', 'drd', 'dmn-icon-business-knowledge',\n      translate('Create Knowledge Model')\n    )\n  });\n\n  return actions;\n};\n"],"file":"PaletteProvider.js"}