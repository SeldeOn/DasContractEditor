{"version":3,"sources":["../../../../src/features/modeling/behavior/ReplaceElementBehavior.js"],"names":["inherits","CommandInterceptor","ReplaceElementBehaviour","eventBus","modeling","selection","call","_modeling","postExecuted","e","context","oldShape","newShape","unclaimId","businessObject","id","updateProperties","select","$inject"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,UAArB;AAEA,OAAOC,kBAAP,MAA+B,2CAA/B;AAGA;AACA;AACA;AACA;;AACA,eAAe,SAASC,uBAAT,CAAiCC,QAAjC,EAA2CC,QAA3C,EAAqDC,SAArD,EAAgE;AAC7EJ,EAAAA,kBAAkB,CAACK,IAAnB,CAAwB,IAAxB,EAA8BH,QAA9B;AAEA,OAAKI,SAAL,GAAiBH,QAAjB;AAEA,OAAKI,YAAL,CAAkB,CAAE,eAAF,CAAlB,EAAuC,IAAvC,EAA6C,UAASC,CAAT,EAAY;AACvD,QAAIC,OAAO,GAAGD,CAAC,CAACC,OAAhB;AAAA,QACIC,QAAQ,GAAGD,OAAO,CAACC,QADvB;AAAA,QAEIC,QAAQ,GAAGF,OAAO,CAACE,QAFvB;AAKAR,IAAAA,QAAQ,CAACS,SAAT,CAAmBF,QAAQ,CAACG,cAAT,CAAwBC,EAA3C,EAA+CJ,QAAQ,CAACG,cAAxD;AACAV,IAAAA,QAAQ,CAACY,gBAAT,CAA0BJ,QAA1B,EAAoC;AAAEG,MAAAA,EAAE,EAAEJ,QAAQ,CAACI;AAAf,KAApC;AACAV,IAAAA,SAAS,CAACY,MAAV,CAAiBL,QAAjB;AACD,GATD;AAUD;AAEDZ,QAAQ,CAACE,uBAAD,EAA0BD,kBAA1B,CAAR;AAEAC,uBAAuB,CAACgB,OAAxB,GAAkC,CAAE,UAAF,EAAc,UAAd,EAA0B,WAA1B,CAAlC","sourcesContent":["import inherits from 'inherits';\n\nimport CommandInterceptor from 'diagram-js/lib/command/CommandInterceptor';\n\n\n/**\n * Defines the behaviour of what happens to the elements inside a container\n * that morphs into another DRD element\n */\nexport default function ReplaceElementBehaviour(eventBus, modeling, selection) {\n  CommandInterceptor.call(this, eventBus);\n\n  this._modeling = modeling;\n\n  this.postExecuted([ 'shape.replace' ], 1500, function(e) {\n    var context = e.context,\n        oldShape = context.oldShape,\n        newShape = context.newShape;\n\n\n    modeling.unclaimId(oldShape.businessObject.id, oldShape.businessObject);\n    modeling.updateProperties(newShape, { id: oldShape.id });\n    selection.select(newShape);\n  });\n}\n\ninherits(ReplaceElementBehaviour, CommandInterceptor);\n\nReplaceElementBehaviour.$inject = [ 'eventBus', 'modeling', 'selection' ];\n"],"file":"ReplaceElementBehavior.js"}