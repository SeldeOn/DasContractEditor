{"version":3,"sources":["../../../src/features/definition-properties/DefinitionPropertiesView.js"],"names":["domify","query","domQuery","delegate","domDelegate","DefinitionPropertiesView","eventBus","canvas","_eventBus","_canvas","on","_init","event","error","update","$inject","prototype","parent","getContainer","container","_container","HTML_MARKUP","appendChild","nameElement","idElement","bind","stopPropagation","fire","html","businessObject","getRootElement","textContent","name","id"],"mappings":"AAAA,SACEA,MADF,EAEEC,KAAK,IAAIC,QAFX,EAGEC,QAAQ,IAAIC,WAHd,QAIO,SAJP;AAOA,eAAe,SAASC,wBAAT,CAAkCC,QAAlC,EAA4CC,MAA5C,EAAoD;AACjE,OAAKC,SAAL,GAAiBF,QAAjB;AACA,OAAKG,OAAL,GAAeF,MAAf;AAEAD,EAAAA,QAAQ,CAACI,EAAT,CAAY,cAAZ,EAA4B,YAAW;AACrC,SAAKC,KAAL;AACD,GAFD,EAEG,IAFH;AAIAL,EAAAA,QAAQ,CAACI,EAAT,CAAY,aAAZ,EAA2B,UAASE,KAAT,EAAgB;AACzC,QAAI,CAACA,KAAK,CAACC,KAAX,EAAkB;AAChB,WAAKC,MAAL;AACD;AACF,GAJD,EAIG,IAJH;AAKD;AAEDT,wBAAwB,CAACU,OAAzB,GAAmC,CAAE,UAAF,EAAc,QAAd,CAAnC;AAEA;AACA;AACA;;AACAV,wBAAwB,CAACW,SAAzB,CAAmCL,KAAnC,GAA2C,YAAW;AACpD,MAAIJ,MAAM,GAAG,KAAKE,OAAlB;AAAA,MACIH,QAAQ,GAAG,KAAKE,SADpB;AAGA,MAAIS,MAAM,GAAGV,MAAM,CAACW,YAAP,EAAb;AAAA,MACIC,SAAS,GAAG,KAAKC,UAAL,GAAkBpB,MAAM,CAACK,wBAAwB,CAACgB,WAA1B,CADxC;AAGAJ,EAAAA,MAAM,CAACK,WAAP,CAAmBH,SAAnB;AAEA,OAAKI,WAAL,GAAmBrB,QAAQ,CAAC,uBAAD,EAA0B,KAAKkB,UAA/B,CAA3B;AACA,OAAKI,SAAL,GAAiBtB,QAAQ,CAAC,qBAAD,EAAwB,KAAKkB,UAA7B,CAAzB;AAEAhB,EAAAA,WAAW,CAACqB,IAAZ,CACEN,SADF,EAEE,4CAFF,EAEgD,WAFhD,EAGE,UAASP,KAAT,EAAgB;AACdA,IAAAA,KAAK,CAACc,eAAN;AACD,GALH;AAQApB,EAAAA,QAAQ,CAACqB,IAAT,CAAc,yBAAd,EAAyC;AACvCC,IAAAA,IAAI,EAAET;AADiC,GAAzC;AAGD,CAvBD;;AAyBAd,wBAAwB,CAACW,SAAzB,CAAmCF,MAAnC,GAA4C,YAAW;AACrD,MAAIe,cAAc,GAAG,KAAKpB,OAAL,CAAaqB,cAAb,GAA8BD,cAAnD;;AAEA,OAAKN,WAAL,CAAiBQ,WAAjB,GAA+BF,cAAc,CAACG,IAA9C;AACA,OAAKR,SAAL,CAAeO,WAAf,GAA6BF,cAAc,CAACI,EAA5C;AACD,CALD;AAQA;;;AAEA5B,wBAAwB,CAACgB,WAAzB,GACE,kCACE,+EADF,GAEE,QAFF,GAGE,2EAHF,GAIE,QAJF,GAKA,QANF","sourcesContent":["import {\n  domify,\n  query as domQuery,\n  delegate as domDelegate\n} from 'min-dom';\n\n\nexport default function DefinitionPropertiesView(eventBus, canvas) {\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n\n  eventBus.on('diagram.init', function() {\n    this._init();\n  }, this);\n\n  eventBus.on('import.done', function(event) {\n    if (!event.error) {\n      this.update();\n    }\n  }, this);\n}\n\nDefinitionPropertiesView.$inject = [ 'eventBus', 'canvas' ];\n\n/**\n * Initialize\n */\nDefinitionPropertiesView.prototype._init = function() {\n  var canvas = this._canvas,\n      eventBus = this._eventBus;\n\n  var parent = canvas.getContainer(),\n      container = this._container = domify(DefinitionPropertiesView.HTML_MARKUP);\n\n  parent.appendChild(container);\n\n  this.nameElement = domQuery('.dmn-definitions-name', this._container);\n  this.idElement = domQuery('.dmn-definitions-id', this._container);\n\n  domDelegate.bind(\n    container,\n    '.dmn-definitions-name, .dmn-definitions-id', 'mousedown',\n    function(event) {\n      event.stopPropagation();\n    }\n  );\n\n  eventBus.fire('definitionIdView.create', {\n    html: container\n  });\n};\n\nDefinitionPropertiesView.prototype.update = function() {\n  var businessObject = this._canvas.getRootElement().businessObject;\n\n  this.nameElement.textContent = businessObject.name;\n  this.idElement.textContent = businessObject.id;\n};\n\n\n/* markup definition */\n\nDefinitionPropertiesView.HTML_MARKUP =\n  '<div class=\"dmn-definitions\">' +\n    '<div class=\"dmn-definitions-name\" title=\"Definition Name\" spellcheck=\"false\">' +\n    '</div>' +\n    '<div class=\"dmn-definitions-id\" title=\"Definition ID\" spellcheck=\"false\">' +\n    '</div>' +\n  '</div>';\n"],"file":"DefinitionPropertiesView.js"}