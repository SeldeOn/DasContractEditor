{"version":3,"sources":["../../../../src/features/label-editing/cmd/UpdateLabelHandler.js"],"names":["getLabel","setLabel","UpdateLabelHandler","setText","element","text","label","labelTarget","execute","ctx","oldLabel","newLabel","revert"],"mappings":"AAAA,SACEA,QADF,EAEEC,QAFF,QAGO,cAHP;AAMA;AACA;AACA;;AACA,eAAe,SAASC,kBAAT,GAA8B;AAE3C;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACE,WAASC,OAAT,CAAiBC,OAAjB,EAA0BC,IAA1B,EAAgC;AAE9B;AACA,QAAIC,KAAK,GAAGF,OAAO,CAACE,KAAR,IAAiBF,OAA7B;AAEA,QAAIG,WAAW,GAAGH,OAAO,CAACG,WAAR,IAAuBH,OAAzC;AAEAH,IAAAA,QAAQ,CAACK,KAAD,EAAQD,IAAR,EAAcE,WAAW,KAAKD,KAA9B,CAAR;AAEA,WAAO,CAAEA,KAAF,EAASC,WAAT,CAAP;AACD;;AAED,WAASC,OAAT,CAAiBC,GAAjB,EAAsB;AACpBA,IAAAA,GAAG,CAACC,QAAJ,GAAeV,QAAQ,CAACS,GAAG,CAACL,OAAL,CAAvB;AACA,WAAOD,OAAO,CAACM,GAAG,CAACL,OAAL,EAAcK,GAAG,CAACE,QAAlB,CAAd;AACD;;AAED,WAASC,MAAT,CAAgBH,GAAhB,EAAqB;AACnB,WAAON,OAAO,CAACM,GAAG,CAACL,OAAL,EAAcK,GAAG,CAACC,QAAlB,CAAd;AACD,GA7B0C,CA+B3C;;;AAEA,OAAKF,OAAL,GAAeA,OAAf;AACA,OAAKI,MAAL,GAAcA,MAAd;AACD","sourcesContent":["import {\n  getLabel,\n  setLabel\n} from '../LabelUtil';\n\n\n/**\n * A handler that updates the name of a DMN element.\n */\nexport default function UpdateLabelHandler() {\n\n  /**\n   * Set the label and return the changed elements.\n   *\n   * Element parameter can be label itself or connection (i.e. sequence flow).\n   *\n   * @param {djs.model.Base} element\n   * @param {string} text\n   */\n  function setText(element, text) {\n\n    // external label if present\n    var label = element.label || element;\n\n    var labelTarget = element.labelTarget || element;\n\n    setLabel(label, text, labelTarget !== label);\n\n    return [ label, labelTarget ];\n  }\n\n  function execute(ctx) {\n    ctx.oldLabel = getLabel(ctx.element);\n    return setText(ctx.element, ctx.newLabel);\n  }\n\n  function revert(ctx) {\n    return setText(ctx.element, ctx.oldLabel);\n  }\n\n  // API\n\n  this.execute = execute;\n  this.revert = revert;\n}\n"],"file":"UpdateLabelHandler.js"}