{"version":3,"sources":["../../src/components/ValidatedInput.js"],"names":["Component","Input","ValidatedInput","props","context","validate","value","validationWarning","undefined","state","onInput","bind","onKeyDown","onKeyUp","setState","isValid","event","target","placeholder","type","className","parentClasses","join","inputClasses","push"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,SAAT,QAA0B,SAA1B,C,CAEA;;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEA;AACA;AACA;;IACqBC,c;;;;;AAEnB,0BAAYC,KAAZ,EAAmBC,OAAnB,EAA4B;AAAA;;AAAA;;AAC1B,8BAAMD,KAAN,EAAaC,OAAb;AAEA,QAAQC,QAAR,GAA4BF,KAA5B,CAAQE,QAAR;AAAA,QAAkBC,KAAlB,GAA4BH,KAA5B,CAAkBG,KAAlB;AAEA,QAAMC,iBAAiB,GAAGF,QAAQ,GAAGA,QAAQ,CAACC,KAAK,IAAI,EAAV,CAAX,GAA2BE,SAA7D;AAEA,UAAKC,KAAL,GAAa;AACXF,MAAAA,iBAAiB,EAAjBA,iBADW;AAEXD,MAAAA,KAAK,EAALA;AAFW,KAAb;AAKA,UAAKI,OAAL,GAAe,MAAKA,OAAL,CAAaC,IAAb,+BAAf;AACA,UAAKC,SAAL,GAAiB,MAAKA,SAAL,CAAeD,IAAf,+BAAjB;AACA,UAAKE,OAAL,GAAe,MAAKA,OAAL,CAAaF,IAAb,+BAAf;AAd0B;AAe3B;;;;WAED,mCAA0BR,KAA1B,EAAiC;AAC/B,UAAQE,QAAR,GAA4BF,KAA5B,CAAQE,QAAR;AAAA,UAAkBC,KAAlB,GAA4BH,KAA5B,CAAkBG,KAAlB;AAEA,UAAMC,iBAAiB,GAAGF,QAAQ,GAAGA,QAAQ,CAACC,KAAK,IAAI,EAAV,CAAX,GAA2BE,SAA7D;AAEA,WAAKM,QAAL,CAAc;AACZP,QAAAA,iBAAiB,EAAjBA,iBADY;AAEZD,QAAAA,KAAK,EAALA;AAFY,OAAd;AAID;;;WAED,iBAAQA,KAAR,EAAe;AACb,wBAA8B,KAAKH,KAAnC;AAAA,UAAQO,OAAR,eAAQA,OAAR;AAAA,UAAiBL,QAAjB,eAAiBA,QAAjB;AAEA,UAAME,iBAAiB,GAAGF,QAAQ,GAAGA,QAAQ,CAACC,KAAD,CAAX,GAAqBE,SAAvD;AAEA,WAAKM,QAAL,CAAc;AACZP,QAAAA,iBAAiB,EAAjBA,iBADY;AAEZD,QAAAA,KAAK,EAALA;AAFY,OAAd;;AAKA,UAAI,OAAOI,OAAP,KAAmB,UAAvB,EAAmC;AACjC;AACD;;AAEDA,MAAAA,OAAO,IAAIA,OAAO,CAAC;AACjBK,QAAAA,OAAO,EAAE,CAACR,iBADO;AAEjBD,QAAAA,KAAK,EAALA;AAFiB,OAAD,CAAlB;AAID;;;WAED,mBAAUU,KAAV,EAAiB;AACT,UAAEC,MAAF,GAAaD,KAAb,CAAEC,MAAF;AAAA,UACEX,KADF,GACYW,MADZ,CACEX,KADF;AAGN,yBAAgC,KAAKH,KAArC;AAAA,UAAQS,SAAR,gBAAQA,SAAR;AAAA,UAAmBP,QAAnB,gBAAmBA,QAAnB;AAEA,UAAME,iBAAiB,GAAGF,QAAQ,GAAGA,QAAQ,CAACC,KAAD,CAAX,GAAqBE,SAAvD;;AAEA,UAAI,OAAOI,SAAP,KAAqB,UAAzB,EAAqC;AACnC;AACD;;AAEDA,MAAAA,SAAS,CAAC;AACRG,QAAAA,OAAO,EAAE,CAACR,iBADF;AAERD,QAAAA,KAAK,EAALA,KAFQ;AAGRU,QAAAA,KAAK,EAALA;AAHQ,OAAD,CAAT;AAKD;;;WAED,iBAAQA,KAAR,EAAe;AACP,UAAEC,MAAF,GAAaD,KAAb,CAAEC,MAAF;AAAA,UACEX,KADF,GACYW,MADZ,CACEX,KADF;AAGN,yBAA8B,KAAKH,KAAnC;AAAA,UAAQU,OAAR,gBAAQA,OAAR;AAAA,UAAiBR,QAAjB,gBAAiBA,QAAjB;AAEA,UAAME,iBAAiB,GAAGF,QAAQ,GAAGA,QAAQ,CAACC,KAAD,CAAX,GAAqBE,SAAvD;;AAEA,UAAI,OAAOK,OAAP,KAAmB,UAAvB,EAAmC;AACjC;AACD;;AAEDA,MAAAA,OAAO,CAAC;AACNE,QAAAA,OAAO,EAAE,CAACR,iBADJ;AAEND,QAAAA,KAAK,EAALA,KAFM;AAGNU,QAAAA,KAAK,EAALA;AAHM,OAAD,CAAP;AAKD;;;WAED,kBAAS;AACP,yBAAyC,KAAKb,KAA9C;AAAA,UAAQe,WAAR,gBAAQA,WAAR;AAAA,UAAqBC,IAArB,gBAAqBA,IAArB;AAAA,UAA2BC,SAA3B,gBAA2BA,SAA3B;AAEA,wBAAqC,KAAKX,KAA1C;AAAA,UAAQF,iBAAR,eAAQA,iBAAR;AAAA,UAA2BD,KAA3B,eAA2BA,KAA3B;AAEA,UAAMe,aAAa,GAAG,CACpB,qBADoB,EAEpBD,SAFoB,EAGpBE,IAHoB,CAGf,GAHe,CAAtB;AAKA,UAAMC,YAAY,GAAG,EAArB;;AAEA,UAAIhB,iBAAJ,EAAuB;AACrBgB,QAAAA,YAAY,CAACC,IAAb,CAAkB,SAAlB;AACD;;AAED,mCACmBH,aADnB;AAAA,qBAIkBE,YAJlB;AAAA,mBAKgB,KAAKb,OALrB;AAAA,qBAMkB,KAAKE,SANvB;AAAA,mBAOgB,KAAKC,OAPrB;AAAA,uBAQoBK,WAAW,IAAI,EARnC;AAAA,gBASaC,IATb;AAAA,iBAUcb,KAAK,IAAI;AAVvB,UAaMC,iBAAiB,wBACN,iCADM,EAEXA,iBAFW,IAbvB;AAoBD;;;;EA5HyCP,S;;SAAvBE,c","sourcesContent":["import { Component } from 'inferno';\r\n\r\n// eslint-disable-next-line\r\nimport Input from './Input';\r\n\r\n/**\r\n * Input with optional validation.\r\n */\r\nexport default class ValidatedInput extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    const { validate, value } = props;\r\n\r\n    const validationWarning = validate ? validate(value || '') : undefined;\r\n\r\n    this.state = {\r\n      validationWarning,\r\n      value\r\n    };\r\n\r\n    this.onInput = this.onInput.bind(this);\r\n    this.onKeyDown = this.onKeyDown.bind(this);\r\n    this.onKeyUp = this.onKeyUp.bind(this);\r\n  }\r\n\r\n  componentWillReceiveProps(props) {\r\n    const { validate, value } = props;\r\n\r\n    const validationWarning = validate ? validate(value || '') : undefined;\r\n\r\n    this.setState({\r\n      validationWarning,\r\n      value\r\n    });\r\n  }\r\n\r\n  onInput(value) {\r\n    const { onInput, validate } = this.props;\r\n\r\n    const validationWarning = validate ? validate(value) : undefined;\r\n\r\n    this.setState({\r\n      validationWarning,\r\n      value\r\n    });\r\n\r\n    if (typeof onInput !== 'function') {\r\n      return;\r\n    }\r\n\r\n    onInput && onInput({\r\n      isValid: !validationWarning,\r\n      value\r\n    });\r\n  }\r\n\r\n  onKeyDown(event) {\r\n    const { target } = event,\r\n          { value } = target;\r\n\r\n    const { onKeyDown, validate } = this.props;\r\n\r\n    const validationWarning = validate ? validate(value) : undefined;\r\n\r\n    if (typeof onKeyDown !== 'function') {\r\n      return;\r\n    }\r\n\r\n    onKeyDown({\r\n      isValid: !validationWarning,\r\n      value,\r\n      event\r\n    });\r\n  }\r\n\r\n  onKeyUp(event) {\r\n    const { target } = event,\r\n          { value } = target;\r\n\r\n    const { onKeyUp, validate } = this.props;\r\n\r\n    const validationWarning = validate ? validate(value) : undefined;\r\n\r\n    if (typeof onKeyUp !== 'function') {\r\n      return;\r\n    }\r\n\r\n    onKeyUp({\r\n      isValid: !validationWarning,\r\n      value,\r\n      event\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { placeholder, type, className } = this.props;\r\n\r\n    const { validationWarning, value } = this.state;\r\n\r\n    const parentClasses = [\r\n      'dms-validated-input',\r\n      className\r\n    ].join(' ');\r\n\r\n    const inputClasses = [ ];\r\n\r\n    if (validationWarning) {\r\n      inputClasses.push('invalid');\r\n    }\r\n\r\n    return (\r\n      <div className={ parentClasses }>\r\n\r\n        <Input\r\n          className={ inputClasses }\r\n          onInput={ this.onInput }\r\n          onKeyDown={ this.onKeyDown }\r\n          onKeyUp={ this.onKeyUp }\r\n          placeholder={ placeholder || '' }\r\n          type={ type }\r\n          value={ value || '' } />\r\n\r\n        {\r\n          validationWarning &&\r\n            <p class=\"dms-hint dms-validation-warning\">\r\n              { validationWarning }\r\n            </p>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n}"],"file":"ValidatedInput.js"}