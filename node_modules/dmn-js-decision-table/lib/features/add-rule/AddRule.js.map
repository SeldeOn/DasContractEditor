{"version":3,"sources":["../../../src/features/add-rule/AddRule.js"],"names":["AddRuleFootComponent","AddRule","components","editorActions","eventBus","selection","onGetComponent","on","e","context","rule","trigger","colIndex","cells","select","$inject"],"mappings":";;;;;;AAAA,OAAOA,oBAAP,MAAiC,mCAAjC;;IAEqBC,O,6BACnB,iBAAYC,UAAZ,EAAwBC,aAAxB,EAAuCC,QAAvC,EAAiDC,SAAjD,EAA4D;AAAA;;AAC1DH,EAAAA,UAAU,CAACI,cAAX,CAA0B,YAA1B,EAAwC;AAAA,WAAMN,oBAAN;AAAA,GAAxC;AAEAI,EAAAA,QAAQ,CAACG,EAAT,CAAY,SAAZ,EAAuB,UAACC,CAAD,EAAIC,OAAJ,EAAgB;AACrC,QAAMC,IAAI,GAAGP,aAAa,CAACQ,OAAd,CAAsB,SAAtB,CAAb;AACA,QAAMC,QAAQ,GAAGH,OAAO,CAACG,QAAzB;;AAEA,QAAIF,IAAI,CAACG,KAAL,CAAWD,QAAX,CAAJ,EAA0B;AACxBP,MAAAA,SAAS,CAACS,MAAV,CAAiBJ,IAAI,CAACG,KAAL,CAAWD,QAAX,CAAjB;AACD,KAFD,MAEO;AACLP,MAAAA,SAAS,CAACS,MAAV,CAAiBJ,IAAI,CAACG,KAAL,CAAW,CAAX,CAAjB;AACD;AACF,GATD;AAUD,C;;SAdkBZ,O;AAiBrBA,OAAO,CAACc,OAAR,GAAkB,CAAE,YAAF,EAAgB,eAAhB,EAAiC,UAAjC,EAA6C,WAA7C,CAAlB","sourcesContent":["import AddRuleFootComponent from './components/AddRuleFootComponent';\n\nexport default class AddRule {\n  constructor(components, editorActions, eventBus, selection) {\n    components.onGetComponent('table.foot', () => AddRuleFootComponent);\n\n    eventBus.on('addRule', (e, context) => {\n      const rule = editorActions.trigger('addRule');\n      const colIndex = context.colIndex;\n\n      if (rule.cells[colIndex]) {\n        selection.select(rule.cells[colIndex]);\n      } else {\n        selection.select(rule.cells[0]);\n      }\n    });\n  }\n}\n\nAddRule.$inject = [ 'components', 'editorActions', 'eventBus', 'selection' ];"],"file":"AddRule.js"}