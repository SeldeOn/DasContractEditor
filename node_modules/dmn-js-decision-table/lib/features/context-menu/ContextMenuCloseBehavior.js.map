{"version":3,"sources":["../../../src/features/context-menu/ContextMenuCloseBehavior.js"],"names":["COMMANDS","ContextMenuCloseBehavior","contextMenu","eventBus","on","command","indexOf","close","$inject"],"mappings":";;;;;;AAAA,IAAMA,QAAQ,GAAG,CACf,SADe,EAEf,YAFe,EAGf,SAHe,EAIf,YAJe,CAAjB;;IAOqBC,wB,6BACnB,kCAAYC,WAAZ,EAAyBC,QAAzB,EAAmC;AAAA;;AACjCA,EAAAA,QAAQ,CAACC,EAAT,CAAY,uBAAZ,EAAqC,gBAAiB;AAAA,QAAdC,OAAc,QAAdA,OAAc;;AAEpD;AACA,QAAIL,QAAQ,CAACM,OAAT,CAAiBD,OAAjB,MAA8B,CAAC,CAAnC,EAAsC;AACpCH,MAAAA,WAAW,CAACK,KAAZ;AACD;AAEF,GAPD,EADiC,CAUjC;;AACAJ,EAAAA,QAAQ,CAACC,EAAT,CAAY,uBAAZ,EAAqC,YAAM;AACzCF,IAAAA,WAAW,CAACK,KAAZ;AACD,GAFD;AAGD,C;;SAfkBN,wB;AAkBrBA,wBAAwB,CAACO,OAAzB,GAAmC,CAAE,aAAF,EAAiB,UAAjB,CAAnC","sourcesContent":["const COMMANDS = [\r\n  'row.add',\r\n  'row.remove',\r\n  'col.add',\r\n  'col.remove'\r\n];\r\n\r\nexport default class ContextMenuCloseBehavior {\r\n  constructor(contextMenu, eventBus) {\r\n    eventBus.on('commandStack.executed', ({ command }) => {\r\n\r\n      // close on certain modeling operations\r\n      if (COMMANDS.indexOf(command) !== -1) {\r\n        contextMenu.close();\r\n      }\r\n\r\n    });\r\n\r\n    // always close on undo\r\n    eventBus.on('commandStack.reverted', () => {\r\n      contextMenu.close();\r\n    });\r\n  }\r\n}\r\n\r\nContextMenuCloseBehavior.$inject = [ 'contextMenu', 'eventBus' ];"],"file":"ContextMenuCloseBehavior.js"}