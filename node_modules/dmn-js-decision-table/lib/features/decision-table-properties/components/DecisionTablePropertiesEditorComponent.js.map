{"version":3,"sources":["../../../../src/features/decision-table-properties/components/DecisionTablePropertiesEditorComponent.js"],"names":["Component","EditableComponent","inject","mixin","classNames","SelectionAware","DecisionTablePropertiesComponent","props","context","forceUpdate","name","modeling","editDecisionTableName","setupChangeListeners","bind","getBusinessObject","id","unbind","changeSupport","offElementsChanged","onElementsChanged","sheet","getRoot","businessObject","$parent","bo","HitPolicy","components","getComponent","NullComponent","resetScroll","setDecisionTableName","$inject","DecisionTableName","value","className","getSelectionClasses","getClassName","getEditor","elementId","coords","event","target","scroll"],"mappings":"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","sourcesContent":["import { Component } from 'inferno';\r\n\r\nimport EditableComponent from 'dmn-js-shared/lib/components/EditableComponent';\r\n\r\nimport {\r\n  inject,\r\n  mixin,\r\n  classNames,\r\n  SelectionAware\r\n} from 'table-js/lib/components';\r\n\r\n\r\nexport default class DecisionTablePropertiesComponent extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    inject(this);\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.setupChangeListeners({ bind: this.getBusinessObject().id });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.setupChangeListeners({\r\n      unbind: this.getBusinessObject().id\r\n    });\r\n  }\r\n\r\n  setupChangeListeners({ bind, unbind }) {\r\n\r\n    if (typeof unbind === 'string') {\r\n      this.changeSupport.offElementsChanged(unbind, this.onElementsChanged);\r\n    }\r\n\r\n    if (typeof bind === 'string') {\r\n      this.changeSupport.onElementsChanged(bind, this.onElementsChanged);\r\n    }\r\n  }\r\n\r\n  getBusinessObject() {\r\n    return this.sheet.getRoot().businessObject.$parent;\r\n  }\r\n\r\n  onElementsChanged = () => {\r\n    this.forceUpdate();\r\n  }\r\n\r\n  setDecisionTableName = (name) => {\r\n    this.modeling.editDecisionTableName(name);\r\n  }\r\n\r\n  render() {\r\n    const bo = this.getBusinessObject();\r\n\r\n    const { name } = bo;\r\n\r\n    const HitPolicy = this.components.getComponent('hit-policy') || NullComponent;\r\n\r\n    return (\r\n      <div className=\"decision-table-properties\">\r\n        <DecisionTableName\r\n          className=\"decision-table-name\"\r\n          value={ name }\r\n          ctrlForNewline={ true }\r\n          onBlur={ resetScroll }\r\n          onChange={ this.setDecisionTableName }\r\n          elementId={ '__decisionProperties_name' }\r\n          coords={ '0:__decisionProperties' }\r\n        />\r\n        <div className=\"decision-table-header-separator\" />\r\n        <HitPolicy />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nDecisionTablePropertiesComponent.$inject = [\r\n  'sheet',\r\n  'modeling',\r\n  'changeSupport',\r\n  'components'\r\n];\r\n\r\n\r\nclass DecisionTableName extends EditableComponent {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    mixin(this, SelectionAware);\r\n  }\r\n\r\n  render() {\r\n\r\n    const name = this.props.value;\r\n\r\n    const className = classNames(\r\n      this.getSelectionClasses(),\r\n      this.getClassName()\r\n    );\r\n\r\n    return (\r\n      <div\r\n        className={ className }\r\n        data-element-id={ this.props.elementId }\r\n        data-coords={ this.props.coords }\r\n        title={ 'Decision Name: ' + name }\r\n      >\r\n        { this.getEditor() }\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nfunction NullComponent() {\r\n  return null;\r\n}\r\n\r\nfunction resetScroll(event) {\r\n  event.target.scroll(0, 0);\r\n}\r\n"],"file":"DecisionTablePropertiesEditorComponent.js"}