{"version":3,"sources":["../../../../../src/features/decision-table-head/editor/components/OutputCell.js"],"names":["Component","mixin","ComponentWithSlots","OutputCell","props","context","event","output","_eventBus","fire","id","forceUpdate","_translate","injector","get","_changeSupport","changeSupport","_elementRegistry","onElementsChanged","offElementsChanged","index","outputsLength","label","name","outputValues","typeRef","width","slotFills","type","cellType","col","text","onClick","onContextmenu"],"mappings":"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","sourcesContent":["import { Component } from 'inferno';\r\n\r\nimport {\r\n  mixin\r\n} from 'table-js/lib/components';\r\n\r\nimport {\r\n  ComponentWithSlots\r\n} from 'dmn-js-shared/lib/components/mixins';\r\n\r\n\r\nexport default class OutputCell extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    mixin(this, ComponentWithSlots);\r\n\r\n    this._translate = context.injector.get('translate');\r\n  }\r\n\r\n  onClick = (event) => {\r\n    const { output } = this.props;\r\n\r\n    this._eventBus.fire('output.edit', {\r\n      event,\r\n      output\r\n    });\r\n  }\r\n\r\n  onContextmenu = (event) => {\r\n    const { id } = this.props.output;\r\n\r\n    this._eventBus.fire('cell.contextmenu', {\r\n      event,\r\n      id\r\n    });\r\n  }\r\n\r\n  onElementsChanged = () => {\r\n    this.forceUpdate();\r\n  }\r\n\r\n  componentWillMount() {\r\n    const { injector } = this.context;\r\n\r\n    this._changeSupport = this.context.changeSupport;\r\n    this._eventBus = injector.get('eventBus');\r\n    this._elementRegistry = injector.get('elementRegistry');\r\n\r\n    const { output } = this.props;\r\n\r\n    this._changeSupport.onElementsChanged(output.id, this.onElementsChanged);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { output } = this.props;\r\n\r\n    this._changeSupport.offElementsChanged(output.id, this.onElementsChanged);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      output,\r\n      index,\r\n      outputsLength\r\n    } = this.props;\r\n\r\n    const {\r\n      label,\r\n      name,\r\n      outputValues,\r\n      typeRef\r\n    } = output;\r\n\r\n    const width = output.width ? output.width + 'px' : '192px';\r\n\r\n    return (\r\n      <th\r\n        data-col-id={ output.id }\r\n        onDoubleClick={ this.onClick }\r\n        onContextmenu={ this.onContextmenu }\r\n        className=\"output-cell output-editor\"\r\n        style={ { width } }\r\n      >\r\n\r\n        {\r\n          this.slotFills({\r\n            type: 'cell-inner',\r\n            context: {\r\n              cellType: 'output-cell',\r\n              col: this._elementRegistry.get(output.id),\r\n              index,\r\n              outputsLength\r\n            },\r\n            col: output\r\n          })\r\n        }\r\n\r\n        <div className=\"clause\">\r\n          { index === 0 ? this._translate('Then') : this._translate('And') }\r\n        </div>\r\n\r\n        {\r\n          label ? (\r\n            <div className=\"output-label\" title={ this._translate('Output Label') }>\r\n              { label }\r\n            </div>\r\n          ) : (\r\n            <div className=\"output-name\" title={ this._translate('Output Name') }>\r\n              { name }\r\n            </div>\r\n          )\r\n        }\r\n\r\n        <div\r\n          className=\"output-variable\"\r\n          title={\r\n            outputValues && outputValues.text ? this._translate('Output Values') :\r\n              this._translate('Output Type')\r\n          }\r\n        >\r\n          { outputValues && outputValues.text || typeRef }\r\n        </div>\r\n      </th>\r\n    );\r\n  }\r\n\r\n}"],"file":"OutputCell.js"}