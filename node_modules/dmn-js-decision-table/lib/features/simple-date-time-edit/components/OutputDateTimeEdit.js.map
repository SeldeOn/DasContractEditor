{"version":3,"sources":["../../../../src/features/simple-date-time-edit/components/OutputDateTimeEdit.js"],"names":["Component","ValidatedInput","getSampleDate","validateISOString","parseString","OutputDateEdit","props","context","_modeling","injector","get","element","parsedString","businessObject","text","state","date","debounceInput","debouncedEditCell","editCell","bind","onClick","onInput","cell","setState","value"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,SAAT,QAA0B,SAA1B;AAEA,OAAOC,cAAP,MAA2B,6CAA3B;AAEA,SACEC,aADF,EAEEC,iBAFF,EAGEC,WAHF,QAIO,UAJP;;IAOqBC,c;;;;;AAEnB,0BAAYC,KAAZ,EAAmBC,OAAnB,EAA4B;AAAA;;AAAA;;AAC1B,8BAAMD,KAAN,EAAaC,OAAb;AAEA,UAAKC,SAAL,GAAiBD,OAAO,CAACE,QAAR,CAAiBC,GAAjB,CAAqB,UAArB,CAAjB;AAEA,QAAQC,OAAR,GAAoB,MAAKL,KAAL,CAAWC,OAA/B,CAAQI,OAAR;AAEA,QAAMC,YAAY,GAAGR,WAAW,CAACO,OAAO,CAACE,cAAR,CAAuBC,IAAxB,CAAhC;AAEA,UAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAEJ,YAAY,GAAGA,YAAY,CAACI,IAAhB,GAAuB;AAD9B,KAAb;AAIA,QAAMC,aAAa,GAAGV,OAAO,CAACE,QAAR,CAAiBC,GAAjB,CAAqB,eAArB,CAAtB;AAEA,UAAKQ,iBAAL,GAAyBD,aAAa,CAAC,MAAKE,QAAL,CAAcC,IAAd,+BAAD,CAAtC;AACA,UAAKD,QAAL,GAAgB,MAAKA,QAAL,CAAcC,IAAd,+BAAhB;AAEA,UAAKC,OAAL,GAAe,MAAKA,OAAL,CAAaD,IAAb,+BAAf;AACA,UAAKE,OAAL,GAAe,MAAKA,OAAL,CAAaF,IAAb,+BAAf;AAnB0B;AAoB3B;;;;WAED,kBAASG,IAAT,EAAeT,IAAf,EAAqB;AACnB,WAAKN,SAAL,CAAeW,QAAf,CAAwBI,IAAxB,EAA8BT,IAA9B;AACD;;;WAED,mBAAU;AACR,UAAQH,OAAR,GAAoB,KAAKL,KAAL,CAAWC,OAA/B,CAAQI,OAAR;AAEA,UAAMK,IAAI,GAAGd,aAAa,EAA1B;AAEA,WAAKsB,QAAL,CAAc;AACZR,QAAAA,IAAI,EAAJA;AADY,OAAd;AAIA,WAAKG,QAAL,CAAcR,OAAO,CAACE,cAAtB,4BAAyDG,IAAzD;AACD;;;WAED,uBAAmB;AAAA,UAATS,KAAS,QAATA,KAAS;AACjB,UAAQd,OAAR,GAAoB,KAAKL,KAAL,CAAWC,OAA/B,CAAQI,OAAR;AAEA,WAAKa,QAAL,CAAc;AACZR,QAAAA,IAAI,EAAES;AADM,OAAd;AAIA,WAAKP,iBAAL,CAAuBP,OAAO,CAACE,cAA/B,4BAAkEY,KAAlE;AACD;;;WAED,kBAAS;AACP,UAAQT,IAAR,GAAiB,KAAKD,KAAtB,CAAQC,IAAR;AAEA,mCACa,yCADb,wBAGc,aAHd,kEAKc,aALd;AAAA,mBASkB,KAAKM,OATvB;AAAA,sCAU+BpB,aAAa,EAV5C;AAAA,oBAWmBC,iBAXnB;AAAA,iBAYgBa,IAZhB;AAAA,qBAakB;AAblB,8BAgBmB,UAhBnB,qDAkBoB,WAlBpB;AAAA,gBAiByB,QAjBzB;AAAA,mBAmBoB,KAAKK;AAnBzB;AAyBD;;;;EA9EyCrB,S;;SAAvBK,c","sourcesContent":["import { Component } from 'inferno';\n\nimport ValidatedInput from 'dmn-js-shared/lib/components/ValidatedInput';\n\nimport {\n  getSampleDate,\n  validateISOString,\n  parseString\n} from '../Utils';\n\n\nexport default class OutputDateEdit extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this._modeling = context.injector.get('modeling');\n\n    const { element } = this.props.context;\n\n    const parsedString = parseString(element.businessObject.text);\n\n    this.state = {\n      date: parsedString ? parsedString.date : ''\n    };\n\n    const debounceInput = context.injector.get('debounceInput');\n\n    this.debouncedEditCell = debounceInput(this.editCell.bind(this));\n    this.editCell = this.editCell.bind(this);\n\n    this.onClick = this.onClick.bind(this);\n    this.onInput = this.onInput.bind(this);\n  }\n\n  editCell(cell, text) {\n    this._modeling.editCell(cell, text);\n  }\n\n  onClick() {\n    const { element } = this.props.context;\n\n    const date = getSampleDate();\n\n    this.setState({\n      date\n    });\n\n    this.editCell(element.businessObject, `date and time(\"${ date }\")`);\n  }\n\n  onInput({ value }) {\n    const { element } = this.props.context;\n\n    this.setState({\n      date: value\n    });\n\n    this.debouncedEditCell(element.businessObject, `date and time(\"${ value }\")`);\n  }\n\n  render() {\n    const { date } = this.state;\n\n    return (\n      <div class=\"context-menu-container simple-date-edit\">\n\n        <h3 class=\"dms-heading\">Edit date and time</h3>\n\n        <h4 class=\"dms-heading\">Set date and time</h4>\n\n        <div>\n          <ValidatedInput\n            onInput={ this.onInput }\n            placeholder={ `e.g. ${ getSampleDate() }` }\n            validate={ validateISOString }\n            value={ date }\n            className=\"dms-block\">\n          </ValidatedInput>\n\n          <p className=\"dms-hint\">\n            Use <button type=\"button\"\n              className=\"use-today\"\n              onClick={ this.onClick }>today</button>.\n          </p>\n        </div>\n\n      </div>\n    );\n  }\n}"],"file":"OutputDateTimeEdit.js"}