{"version":3,"sources":["../../../../src/features/simple-duration-edit/components/OutputDurationEdit.js"],"names":["Component","withoutDurationCall","DurationInput","OutputDurationEdit","props","context","_modeling","injector","get","element","_type","getTypeRef","debounceInput","debouncedEditCell","editCell","bind","onInput","cell","text","value","businessObject","col","typeRef"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,SAAT,QAA0B,SAA1B;AACA,SAASC,mBAAT,QAAoC,UAApC;AAEA,SAASC,aAAT,QAA8B,iBAA9B;;IAGqBC,kB;;;;;AAEnB,8BAAYC,KAAZ,EAAmBC,OAAnB,EAA4B;AAAA;;AAAA;;AAC1B,8BAAMD,KAAN,EAAaC,OAAb;AAEA,UAAKC,SAAL,GAAiBD,OAAO,CAACE,QAAR,CAAiBC,GAAjB,CAAqB,UAArB,CAAjB;AAEA,QAAQC,OAAR,GAAoB,MAAKL,KAAL,CAAWC,OAA/B,CAAQI,OAAR;AAEA,UAAKC,KAAL,GAAaC,UAAU,CAACF,OAAD,CAAvB;AAEA,QAAMG,aAAa,GAAGP,OAAO,CAACE,QAAR,CAAiBC,GAAjB,CAAqB,eAArB,CAAtB;AAEA,UAAKK,iBAAL,GAAyBD,aAAa,CAAC,MAAKE,QAAL,CAAcC,IAAd,+BAAD,CAAtC;AACA,UAAKD,QAAL,GAAgB,MAAKA,QAAL,CAAcC,IAAd,+BAAhB;AAEA,UAAKC,OAAL,GAAe,MAAKA,OAAL,CAAaD,IAAb,+BAAf;AAd0B;AAe3B;;;;WAED,kBAASE,IAAT,EAAeC,IAAf,EAAqB;AACnB,WAAKZ,SAAL,CAAeQ,QAAf,CAAwBG,IAAxB,EAA8BC,IAA9B;AACD;;;WAED,iBAAQC,KAAR,EAAe;AACb,UAAQV,OAAR,GAAoB,KAAKL,KAAL,CAAWC,OAA/B,CAAQI,OAAR;AAEA,WAAKI,iBAAL,CAAuBJ,OAAO,CAACW,cAA/B,uBAA6DD,KAA7D;AACD;;;WAED,kBAAS;AACP,UAAMA,KAAK,GAAGlB,mBAAmB,CAC/B,KAAKG,KAAL,CAAWC,OAAX,CAAmBI,OAAnB,CAA2BW,cAA3B,CAA0CF,IADX,EACiB,KAAKR,KADtB,CAAjC;AAGA,mCACa,6CADb,wBAGc,aAHd,6DAKc,aALd;AAAA,mBAQgB,KAAKM,OARrB;AAAA,iBAScG,KATd;AAAA,gBAUa,KAAKT,KAVlB;AAAA,qBAWgB;AAXhB;AAeD;;;;EAhD6CV,S;;SAA3BG,kB;;AAmDrB,SAASQ,UAAT,CAAoBF,OAApB,EAA6B;AAC3B,SAAOA,OAAO,CAACY,GAAR,CAAYD,cAAZ,CAA2BE,OAAlC;AACD","sourcesContent":["import { Component } from 'inferno';\nimport { withoutDurationCall } from '../Utils';\n\nimport { DurationInput } from './DurationInput';\n\n\nexport default class OutputDurationEdit extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this._modeling = context.injector.get('modeling');\n\n    const { element } = this.props.context;\n\n    this._type = getTypeRef(element);\n\n    const debounceInput = context.injector.get('debounceInput');\n\n    this.debouncedEditCell = debounceInput(this.editCell.bind(this));\n    this.editCell = this.editCell.bind(this);\n\n    this.onInput = this.onInput.bind(this);\n  }\n\n  editCell(cell, text) {\n    this._modeling.editCell(cell, text);\n  }\n\n  onInput(value) {\n    const { element } = this.props.context;\n\n    this.debouncedEditCell(element.businessObject, `duration(\"${ value }\")`);\n  }\n\n  render() {\n    const value = withoutDurationCall(\n      this.props.context.element.businessObject.text, this._type);\n\n    return (\n      <div class=\"context-menu-container simple-duration-edit\">\n\n        <h3 class=\"dms-heading\">Edit duration</h3>\n\n        <h4 class=\"dms-heading\">Set duration</h4>\n\n        <DurationInput\n          onInput={ this.onInput }\n          value={ value }\n          type={ this._type }\n          className=\"dms-block\"\n        />\n      </div>\n    );\n  }\n}\n\nfunction getTypeRef(element) {\n  return element.col.businessObject.typeRef;\n}\n"],"file":"OutputDurationEdit.js"}